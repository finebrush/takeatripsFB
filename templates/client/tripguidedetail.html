{% load static %}
<head>
        <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> -->
        <title>TAKE A TRIPS</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
        <link rel=stylesheet href="{% static 'css/main.css' %}">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
        <script src="{% static 'js/bootstrap-waterfall.js' %}"></script>
    
    </head>
    <body>
        <div class="row" style="padding: 5px; margin: 15px;">
            <div class="col-sm-1" style="align-self: center;">
                <a href="http://localhost:8000/citymain/{{ citydetails_id }}/tripguide/{{ partnum }}" class="card-link p-2 text-dark"> 뒤로가기 </a>
            </div>
            <div class="col-sm-7">
                <h3 class="font-weight-bold" style="margin-bottom: 0px;">
                    <a href="#" class="card-link text-dark">{{ itdetail.companyko }}</a>
                    <small class="font-italic" style="margin-top: 14px;margin-bottom: 0px;margin-left: 5px;">{{ itdetail.get_typeit_display }}</small> 
                </h3>
                <div style="margin-bottom: 0px;"> {{ itdetail.get_part_display }} | {{ itdetail.categorymedium }}</div>
            </div>
            <div class="col-sm-4" style="align-self: center;">
                <a href="#" class="card-link p-2 text-dark">Map</a>
                <a href="#2" class="card-link p-2 text-dark">youtube</a>
                <a href="#3" class="card-link p-2 text-dark">Instagram</a>
                <a href="#4" class="card-link p-2 text-dark">Like</a> 
            </div>
        </div>
    

        <!-- 대표 이미지 .. -->
        {% if itdetail.picture1 %}
        <div class="card-deck p-5" style="padding-bottom: 0px!important; padding-top: 0px!important;">
            <div class="card bg-primary" style="max-height: 450px;">
                <div class="card-body text-center p-0">
                    <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture1 }}" alt="Card image">
                </div>
            </div>
            {% if itdetail.picture2 %}
                <div class="card bg-warning" style="max-height: 450px;">
                    <div class="card-body text-center p-0">
                        <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture2 }}" alt="Card image">
                    </div>
                </div>
            {% else %}
                <div class="card" style="max-height: 450px; border: 0px;">
                    <div class="card-body text-center p-0">
                    </div>
                </div>
            {% endif %}
        </div>
        {% endif %}
           
        {% if itdetail.picture3 %}
        <div class="card-deck p-5" style="padding-bottom: 0px!important;">
            <div class="card bg-success" style="max-height: 450px;">
                <div class="card-body text-center p-0">
                    <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture3 }}" alt="Card image">
                </div>
            </div>
            {% if itdetail.picture4 %}
                <div class="card bg-danger" style="max-height: 450px;">
                    <div class="card-body text-center p-0">
                        <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture4 }}" alt="Card image">
                    </div>
                </div>
            {% else %}
                <div class="card" style="max-height: 450px; border: 0px;">
                    <div class="card-body text-center p-0">
                    </div>
                </div>
            {% endif %}
        </div>
        {% endif %}

        {% if itdetail.picture5 %}
        <div class="card-deck p-5" style="padding-bottom: 0px!important;">
            <div class="card bg-success" style="max-height: 450px;">
                <div class="card-body text-center p-0">
                    <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture5 }}" alt="Card image">
                </div>
            </div>
            {% if itdetail.picture6 %}
                <div class="card bg-danger" style="max-height: 450px;">
                    <div class="card-body text-center p-0">
                        <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture6 }}" alt="Card image">
                    </div>
                </div>
            {% else %}
                <div class="card" style="max-height: 450px; border: 0px;">
                    <div class="card-body text-center p-0">
                    </div>
                </div>
            {% endif %}
        </div>
        {% endif %}

        {% if itdetail.picture7 %}
        <div class="card-deck p-5" style="padding-bottom: 0px!important;">
            <div class="card bg-success" style="max-height: 450px;">
                <div class="card-body text-center p-0">
                    <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture7 }}" alt="Card image">
                </div>
            </div>
            {% if itdetail.picture8 %}
                <div class="card bg-danger" style="max-height: 450px;">
                    <div class="card-body text-center p-0">
                        <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture8 }}" alt="Card image">
                    </div>
                </div>
            {% else %}
                <div class="card" style="max-height: 450px; border: 0px;">
                    <div class="card-body text-center p-0">
                    </div>
                </div>
            {% endif %}
        </div>
        {% endif %}
        
        {% if itdetail.picture9 %}
        <div class="card-deck p-5" style="padding-bottom: 0px!important;">
            <div class="card bg-success" style="max-height: 450px;">
                <div class="card-body text-center p-0">
                    <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture9 }}" alt="Card image">
                </div>
            </div>
            {% if itdetail.picture10 %}
                <div class="card bg-danger" style="max-height: 450px;">
                    <div class="card-body text-center p-0">
                        <img class="card-img-top" style="height: -webkit-fill-available;" src="http://localhost:8000/media/{{ itdetail.picture10 }}" alt="Card image">
                    </div>
                </div>
            {% else %}
                <div class="card" style="max-height: 450px; border: 0px;">
                    <div class="card-body text-center p-0">
                    </div>
                </div>
            {% endif %}
        </div>
        {% endif %}

    <!-- 소개정보 / 일반정보.. -->
    <div class="card-deck p-5">
        <div class="card" style="max-height: 450px; border:0px;">
            <div class="card-body p-0">
                <h1 style="font-weight:600; color:darkslategrey;"> 
                    <h5 class="card-title">소개정보</h5>
                </h1>
                <hr style="border: solid 0.5px #969696b3;">
                <p class="card-text"> {{ itdetail.introko }}</p>
            </div>
        </div>
        
        <div class="card" style="max-height: 450px; border:0px;">
            <div class="card-body p-0">
                <h1 style="font-weight:600; color:darkslategrey;"> 
                    <h5 class="card-title">일반정보</h5>
                </h1>
                <hr style="border: solid 0.5px #969696b3;">
                <p class="card-text"> {{ itdetail.addressko }}</p>
                <hr style="border: solid 0.5px #969696b3;">
                <p class="card-text"> 대표메뉴 : </p>
                <hr style="border: solid 0.5px #969696b3;">
                <p class="card-text"> 운영시간 : </p>
                <hr style="border: solid 0.5px #969696b3;">
                <p class="card-text"> {{ itdetail.trafficko }}</p>
                <hr style="border: solid 0.5px #969696b3;">
            </div>
        </div>
    </div>


    <!-- django-waterfall 이미지 들어가는 부분.. -->
    <div class="card p-5">
        <h1 style="font-weight:600; color:darkslategrey;"> 
            <h5 class="card-title">유사한 여행 정보 보기</h5>
        </h1>
        <div class=container style="margin:0px; padding:0px; max-width:1920;">
            <div class=waterfall> 
            </div>
        </div>
    </div>
    
    <!-- DB 에서 이미지 가져오기... -->
    <script id=waterfall-template type=text/template>
        {% for itdetail in itdetails %}
        <ul class="list-group">
            <li class="list-group-item">
                <a href="javascript:itdetailpath('{{ itdetail.part }}', {{ citydetails_id }}, {{ itdetail.id }});"> <img src="http://localhost:8000/media/{{ itdetail.picture1 }}" alt=""> </a>
            </li>
            <li class="list-group-item">
                <button type="button" class="btn btn-default btn-xs" title="thumb up"><span class="glyphicon glyphicon-thumbs-up"></span></button>
                <button type="button" class="btn btn-default btn-xs" title="thumb down"><span class="glyphicon glyphicon-thumbs-down"></span></button>
                <button type="button" class="btn btn-default btn-xs pull-right" title="pin"><span class="glyphicon glyphicon-pushpin"></span></button>
            </li>
            <li class="list-group-item">
                <div class="media">
                    <div class="media-left">
                        <a href="javascript:;"> <img class="media-object img-rounded" style="width: 30px; height: 30px;" src="{% static 'images/avatar_30.png' %}" /> </a>
                    </div>
                    <div class="media-body">
                        <h5 class="media-heading">Liber</h5> <small>I love this pin!</small> </div>
                </div>
            </li>
        </ul>
        {% endfor %}
    </script>    
        
    <!-- Footer -->
    <footer class="page-footer font-small blue" style="background-color:#212529; margin-top:0px; ">
        <div class="footer-copyright text-center py-3" style="color:white">© 2019 Copyright : 
        <a href="#"> Take a Trips</a>
        </div>
    </footer>
    <!-- Footer -->

    <script>
        $('.waterfall')
            .data('bootstrap-waterfall-template', $('#waterfall-template').html())
            .on('finishing.mystist.waterfall', function() {
                setTimeout(function() { // simulate ajax
                    $('.waterfall').data('mystist.waterfall').addPins($($('#another-template').html()))
                }, 2000);
            })
            .waterfall()
    
        // itdetail 클릭시 tripguidedetail 로 넘어가기..
        function itdetailpath(part, citydetails_id, itdetail_id) {
            switch(part){
                case "Eat":
                    location.href = "http://localhost:8000/citymain/"+citydetails_id+"/tripguidedetail/1/"+itdetail_id;
                    break;
                case "Drink":
                    location.href = "http://localhost:8000/citymain/"+citydetails_id+"/tripguidedetail/2/"+itdetail_id;
                    break;
                case "Fun":
                    location.href = "http://localhost:8000/citymain/"+citydetails_id+"/tripguidedetail/3/"+itdetail_id;
                    break;
                case "See":
                    location.href = "http://localhost:8000/citymain/"+citydetails_id+"/tripguidedetail/4/"+itdetail_id;
                    break;
                case "Sleep":
                    location.href = "http://localhost:8000/citymain/"+citydetails_id+"/tripguidedetail/5/"+itdetail_id;
                    break;
                case "Buy":
                    location.href = "http://localhost:8000/citymain/"+citydetails_id+"/tripguidedetail/6/"+itdetail_id;
                    break;
            }
        }
    </script>


    </body>